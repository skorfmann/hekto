<div id="<%= dom_id document %>" class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden">
  <div class="p-4">
    <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mb-2"><%= document.name %></h3>

    <% if document.file.attached? %>
      <% if document.file.content_type.start_with?('image/') %>
        <%= image_tag document.file.variant(resize_to_fill: [300, 200, {crop: :attention}], saver: { quality: 85 }), class: "w-full h-48 object-cover rounded-md mb-4" %>
      <% else %>
        <div class="bg-gray-100 dark:bg-gray-700 rounded-md h-48 flex items-center justify-center mb-4">
          <span class="text-gray-500 dark:text-gray-400"><%= document.file.content_type %></span>
        </div>
      <% end %>
    <% end %>

    <div class="text-sm text-gray-600 dark:text-gray-300 mb-2">
      <p><span class="font-medium">Content:</span> <%= truncate(document.content, length: 100) %></p>
      <p><span class="font-medium">Metadata:</span> <%= truncate(document.metadata, length: 50) %></p>
    </div>

    <div class="mt-4 flex justify-between items-center">
      <%= link_to "View details", document, class: "btn btn-primary text-sm" %>
      <%= button_to "Delete", document_path(document), method: :delete, data: { turbo_confirm: "Are you sure you want to delete this document?" }, class: "btn btn-danger text-sm" %>
    </div>
  </div>
</div>